(()=>{"use strict";var e=960,t=96*Math.PI/360,n=document.getElementById("simulatorMain"),a=n.getContext("2d"),i=0,d=new Image,s=new Image,o={angle:0,x:480,speed:0},l={isClicked:!1,x:0,y:0};function c(){l.isClicked=!1}d.src="./img/bg.gif",d.onload=function(){i++},s.src="./img/ball.gif",s.onload=function(){i++},n.addEventListener("mousedown",(function(e){var t=n.getBoundingClientRect();l.isClicked=!0,l.x=e.clientX-t.left,l.y=e.clientY-t.top})),n.addEventListener("touchstart",(function(e){var t=n.getBoundingClientRect();l.isClicked=!0,l.x=e.touches[0].clientX-t.left,l.y=e.touches[0].clientY-t.top})),n.addEventListener("mouseup",c),n.addEventListener("touchend",c),setInterval((function(){for(o.x+=o.speed,o.x<0&&(o.x+=e);o.x>e;)o.x-=e;for(o.angle+=o.speed/t,o.angle<0&&(o.angle+=360);o.angle>360;)o.angle-=360;l.isClicked&&(l.x>480?o.speed+=10/60:o.speed-=10/60),o.speed-=o.speed*o.speed*10850694444444443e-21/60*(o.speed>0?1:-1),function(){if(2===i){a.clearRect(0,0,e,540);var t=Math.floor(o.x-480);a.drawImage(d,-t,0),a.drawImage(d,-t+(t>0?e:-960),0),a.save(),a.translate(480,492),a.rotate(o.angle*Math.PI/180),a.drawImage(s,-48,-48),a.restore()}}()}),1e3/60)})();